function dellModule(){function e(e){H=e}function i(e){F=e}function t(e,i,t){var n=null!==i?i:document.title;OO=window[H[0]],OO.plugin("DellUIModule",function(e,i,t){var o={};return o.DellUIModule=function(e,i){this.mb=e,this.id=i,this.init()},o.DellUIModule.prototype={init:function(){this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"socialUI",i.bind(this.onPlayerCreate,this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"socialUI",i.bind(this.onContentTreeFetched,this))},onPlayerCreate:function(e,i){function o(){t(".oo_share_container").slideUp(1e3)}function s(){clearTimeout(a),t(".oo_share_container").slideDown(500)}this.playerRoot=t("#"+i),this.playerRoot=t("#"+i),this.playerRoot.find(".oo_controls_wrap").append('<div class="oo_share_container"></div>'),this.playerRoot.find(".oo_share_container").append('<div class="oo_button oo_toolbar_item oo_fb_share oo_sms"></div>'),t(".oo_fb_share").click(function(){var e=location.href,i=n;return window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(e)+"&t="+encodeURIComponent(i),"sharer","toolbar=0,status=0,width=600,height=400"),!1}),this.playerRoot.find(".oo_share_container").append('<div class="oo_button oo_toolbar_item oo_tw_share oo_sms"></div>'),t(".oo_tw_share").click(function(){var e=location.href,i=document.title,t=140-(e.length+1);return i.length>t&&(i=i.substr(0,t-3)+"..."),window.open("http://twitter.com/home?status="+encodeURIComponent(i+" "+e),"sharer","toolbar=0,status=0,width=600,height=400"),!1});var a;t(".oo_tap_panel").hover(function(){s()},function(){a=setTimeout(o,1500)}),t(".oo_share_container").hover(function(){s()},function(){a=setTimeout(o,1500)})},onContentTreeFetched:function(){},__end_marker:!0},o.DellUIModule})}function n(){OO=window[H[0]],OO.plugin("DellUIModule",function(e,i,t){var n={};return n.DellUIModule=function(e,i){this.mb=e,this.id=i,this.init()},n.DellUIModule.prototype={init:function(){this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"titleUI",i.bind(this.onPlayerCreate,this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"titleUI",i.bind(this.onContentTreeFetched,this))},onPlayerCreate:function(e,i){this.playerRoot=t("#"+i),this.playerRoot.find(".oo_promo").append('<div class="oo_title_container"><div class="oo_video_title"></div><div class="oo_video_description"></div></div>')},onContentTreeFetched:function(){},__end_marker:!0},n.DellUIModule})}function o(e){var i={language:"en",country:"us",segment:"dhs"};OO=window[H[0]],i.language=F.language,i.country=F.country,i.segment=F.segment,P=i.language+"_"+i.country,z=e===!1?!1:!0,OO.plugin("DellUIModule",function(e,i,t){var n={};return n.DellUIModule=function(e,i){this.mb=e,this.id=i,this.init()},n.DellUIModule.prototype={init:function(){this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"closedCaptionUI",i.bind(this.onPlayerCreate,this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"closedCaptionUI",i.bind(this.onContentTreeFetched,this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"closedCaptionUI",i.bind(this.checkCurrentCaption,this)),this.mb.subscribe(e.EVENTS.SIZE_CHANGED,"closedCaptionUI",i.bind(this.resizeCaptions,this)),this.mb.subscribe("resizeCaptions","closedCaptionUI",i.bind(this.resizeCaptions,this)),this.mb.subscribe("initClosedCaptions","closedCaptionUI",i.bind(this.loadClosedCaptions,this)),this.mb.subscribe("showClosedCaptions","closedCaptionUI",i.bind(this.showClosedCaptions,this,this.mb)),this.mb.subscribe("hideClosedCaptions","closedCaptionUI",i.bind(this.hideClosedCaptions,this,this.mb)),this.mb.subscribe("showLanguagePopup","closedCaptionUI",i.bind(this.showLanguagePopup,this,this.mb)),this.mb.subscribe("hideLanguagePopup","closedCaptionUI",i.bind(this.hideLanguagePopup,this,this.mb)),this.mb.subscribe(e.EVENTS.CONTROLS_HIDDEN,"closedCaptionUI",i.bind(this.hideControls,this,this.mb))},onPlayerCreate:function(e,i){this.playerRoot=t("#"+i),this.playerRoot.find(".oo_controls").prepend('<div class="captionsContainer"><div class="caption"></div></div>'),k=this.playerRoot,S=k.find(".captionsContainer"),A=S.find(".caption"),t(S).css("top",-A.height()-100+"px"),t(S).css("opacity","0")},onContentTreeFetched:function(i,n){var o=this.playerRoot.find("video");if(0!==o.length){t(A)[0].innerHTML="";var s=n.closed_captions[0].url;this.mb.publish("initClosedCaptions",s,A)}else this.mb.unsubscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"closedCaptionUI"),this.mb.publish("hideClosedCaptions","closedCaptionUI")},resizeCaptions:function(){var e=A.height();t(S).css("top",-e-5+"px")},checkCurrentCaption:function(e,i){var n;if(z){for(var o in B){var o=B[o];if(i>o.begin)n=i<=o.end?o:"";else if(n)break}n&&""!=n?(t(A)[0].innerHTML=n.text,this.mb.publish("resizeCaptions")):t(A)[0].innerHTML="",M!==n&&(t(S).css("width","100%"),""!==n&&this.mb.publish("resizeCaptions")),M=n}else t(S).css("opacity","0")},onClosedCaptionsLoad:function(){},loadClosedCaptions:function(e,i,t){a(i,t,this),this.mb.publish("hideLanguagePopup","closedCaptionUI")},showClosedCaptions:function(){t(S).css("opacity","1")},hideClosedCaptions:function(){t(S).css("opacity","0")},showLanguagePopup:function(){p()},hideLanguagePopup:function(){u()},hideControls:function(){u()},__end_marker:!0},n.DellUIModule})}function s(e,i,t){var n={language:"en",country:"us",segment:"dhs"};OO=window[H[0]],n.language=i.language,n.country=i.country,n.segment=i.segment,P=n.language+"_"+n.country,z=t===!1?!1:!0,OO.plugin("DellUIModule",function(i,t,n){var o={};return o.DellUIModule=function(e,i){this.mb=e,this.id=i,this.init()},o.DellUIModule.prototype={init:function(){this.mb.subscribe(i.EVENTS.PLAYER_CREATED,"closedCaptionUI",t.bind(this.onPlayerCreate,this)),this.mb.subscribe(i.EVENTS.CONTENT_TREE_FETCHED,"closedCaptionUI",t.bind(this.onContentTreeFetched,this)),this.mb.subscribe(i.EVENTS.PLAYHEAD_TIME_CHANGED,"closedCaptionUI",t.bind(this.checkCurrentCaption,this)),this.mb.subscribe(i.EVENTS.SIZE_CHANGED,"closedCaptionUI",t.bind(this.resizeCaptions,this)),this.mb.subscribe("resizeCaptions","closedCaptionUI",t.bind(this.resizeCaptions,this)),this.mb.subscribe("initClosedCaptions","closedCaptionUI",t.bind(this.loadClosedCaptions,this)),this.mb.subscribe("showClosedCaptions","closedCaptionUI",t.bind(this.showClosedCaptions,this,this.mb)),this.mb.subscribe("hideClosedCaptions","closedCaptionUI",t.bind(this.hideClosedCaptions,this,this.mb)),this.mb.subscribe("showLanguagePopup","closedCaptionUI",t.bind(this.showLanguagePopup,this,this.mb)),this.mb.subscribe("hideLanguagePopup","closedCaptionUI",t.bind(this.hideLanguagePopup,this,this.mb)),this.mb.subscribe(i.EVENTS.CONTROLS_HIDDEN,"closedCaptionUI",t.bind(this.hideControls,this,this.mb))},onPlayerCreate:function(t,o){this.playerRoot=n("#"+o),this.playerRoot.find(".oo_controls").prepend('<div class="captionsContainer"><div class="caption"></div></div>'),k=this.playerRoot,S=k.find(".captionsContainer"),A=S.find(".caption"),n(S).css("top",-A.height()-100+"px"),n(S).css("opacity","0");var s=this.playerRoot.find("video");0===s.length?(this.mb.unsubscribe(i.EVENTS.PLAYHEAD_TIME_CHANGED,"closedCaptionUI"),this.mb.publish("hideClosedCaptions","closedCaptionUI")):this.mb.publish("initClosedCaptions",e,A)},onContentTreeFetched:function(){a()},resizeCaptions:function(){var e=A.height();n(S).css("top",-e-5+"px")},checkCurrentCaption:function(e,i){var t;if(z){for(var o in B){var s=B[o];if(i>s.begin)i<=s.end&&(t=s);else if(t)break}t&&""!==t&&(n(A)[0].innerHTML=t.text,this.mb.publish("resizeCaptions")),M!==t&&(n(S).css("width","100%"),""!==t&&this.mb.publish("resizeCaptions")),M=t}else n(S).css("opacity","0")},onClosedCaptionsLoad:function(){},loadClosedCaptions:function(e,i,t){l(i,t,this),this.mb.publish("hideLanguagePopup","closedCaptionUI")},showClosedCaptions:function(){n(S).css("opacity","1")},hideClosedCaptions:function(){n(S).css("opacity","0")},showLanguagePopup:function(){h()},hideLanguagePopup:function(){h()},hideControls:function(){u()},__end_marker:!0},o.DellUIModule})}function a(e,i,t){x=t,$.ajax({url:e,type:"GET",dataType:"xml",context:i}).done(function(e){var i=$(e);Y=v(i.find("div")),B=E(P),x.mb.publish(B.length>0||z?"showClosedCaptions":"hideClosedCaptions")}).fail(function(){return console.log("No closed captions available"),[]})}function l(e,i,t){x=t;var n=e;Y=_(n.tt.body.div),B=m(pageLocale.language,pageLocale.country),x.mb.publish(B.length>0||z?"showClosedCaptions":"hideClosedCaptions")}function r(){console.log("Add CC button");var e='<div id="cc_icon" class="oo_button oo_toolbar_item oo_cc"></div>';$(this).find(".vod").append(e);var i=$(this).find("#cc_icon");$(i).bind("click","",c)}function d(){console.log("Add CC popup");var e='<div id="videoLanguagePopup" class="videoLanguagePopup"><div id="ccLanguageModal"><div id="caption-toggle" href="javascript:void(0);" class="onoff-button on"></div><div id="listLanguages"></div></div></div>';$(this).find(".vod").append(e);var i=$(this).find("#caption-toggle");$(i).bind("click","",C);var t=$(this).find("#on-caption");$(t).bind("click","",g);var n=$(this).find("#off-caption");return $(n).bind("click","",f),R=$(this).find(".vod").find(".videoLanguagePopup"),$(R).hide(),$(this).find(".vod")}function c(){console.log("Clicked the language selector"),h()}function h(){R.fadeToggle("slow")}function u(){R.fadeOut("slow")}function p(){R.fadeIn("slow")}function b(){console.log("language changed from "+P+" to "+this.attributes.data.value),P=this.attributes.data.value,B=E(P),z=!0,x.mb.publish("showClosedCaptions");var e=$(k).find("#caption-toggle"),i=e.hasClass("off");i&&($(e).toggleClass("on"),$(e).toggleClass("off")),x.mb.publish("hideLanguagePopup")}function C(){z?(console.log("Hide captions"),z=!1,x.mb.publish("hideClosedCaptions")):(console.log("Show captions"),z=!0,x.mb.publish("showClosedCaptions")),$(this).toggleClass("on"),$(this).toggleClass("off"),h()}function g(){x.mb.publish("showClosedCaptions"),h()}function f(){x.mb.publish("hideClosedCaptions"),h()}function v(e){var i,t=e.length,n=[],o="xx",s="",a={},l=k.find("#cc_icon");t>0?0===l.length&&(r.call(k),a=d.call(k),i=$(a).find("#listLanguages")):$(l).hide();var c=k.find("#listLanguages");c.length>0&&(c.empty(),i=c),G=[];for(var h=0;t>h;h++){var u=$(e[h]),p=u.attr("xml:lang"),C=I(p);G.push(p),i.append('<div class="ccLanguage" data="'+p+'" title="'+C+'" >'+C+"</div>");for(var g=[],f=u.find("p"),v=0;v<f.length;v++)s=p,s!==o&&g.push({begin:getTime($(f[v]).attr("begin")),end:getTime($(f[v]).attr("end")),text:$(f[v]).text()});o=s,n.push(g)}return i.find(".ccLanguage").bind("click",this,b),n}function _(e){var i,t=e.length,n=[],o="xx",s="",a={};t>0&&(r.call(k),a=d.call(k),i=$(a).find("#listLanguages"));for(var l=0;t>l;l++){var c=$(e[l]),h=c.prop("_xml:lang"),u=I(h);G.push(h),i.append('<div class="ccLanguage" data="'+h+'" title="'+u+'" >'+u+"</div>");for(var p=[],C=c.prop("p"),g=0;g<C.length;g++)s=h,s!==o&&p.push({begin:getTime(C[g]._begin),end:getTime(C[g]._end),text:C[g].__text});o=s,n.push(p)}return i.find(".ccLanguage").bind("click",this,b),n}function E(e,i){var t,n,o;return n=y(e),"undefined"!==n.language&&"undefined"!==n.country&&(e=n.language,i=n.country),""!==i&&void 0!==i?(t=e+"-"+i,o=T(t,Y,G),o.length>0?o:(t=e,o=T(t,Y,G),o.length>0?o:[])):""!==e&&void 0!==e?(t=e,o=T(t,Y,G),o.length>0?o:[]):void 0}function m(e,i){var t,n;return""!==i&&void 0!==i?(t=e+"-"+i,n=T(t,Y,G),n.length>0?n:(t=e,n=T(t,Y,G),n.length>0?n:[])):""!==e&&void 0!==e?(t=e,n=T(t,Y,G),n.length>0?n:[]):void 0}function T(e,i,t){for(var n=e.toLowerCase(),o=0;o<t.length;o++){var s=t[o].toLowerCase();if(s===n)return i[o]}return[]}function I(e){switch(e.toLowerCase()){case"da":case"da-da":return"Dansk";case"de":case"de-de":return"Deutsch";case"en":return"English";case"en-us":return"English (US)";case"en-uk":return"English (UK)";case"es":case"es-la":return"Español";case"fr":return"Français";case"fr-ca":return"Français (Canada)";case"hi":return"हिन्दी";case"it":return"Italiano";case"ja":return"日本語";case"ko":return"한국어";case"nl":return"Nederlands";case"pt":case"pt-pt":return"Português";case"pt-br":return"Português (Brasil)";case"zh-hans":case"zh-cn":return"简体中文";case"zh-hant":case"zh-tw":case"zh-hk":return"繁體中文";case"ar":return"العربية";case"cs":return" Čeština ";case"el":return" Ελληνικά ";case"fi":return"Suomi";case"he":return"עברית";case"hu":return"Magyar";case"no":return"Norsk";case"pl":return"Polski";case"ro":return"Română";case"ru":return" Русский";case"sv":return"Svenska";case"tr":return"Türkçe"}}function y(e){var i=[],t={language:e,country:void 0};return i=e.split("-"),i.length>1?(t.language=i[0],t.country=i[1],t):(i=e.split("_"),t.language=i[0],t.country=i[1],t)}function U(){this.lwp=F;var e=!1,i=!1;OO=window[H[0]],OO.plugin("DellUIModule",function(t,n){var o={};return o.DellUIModule=function(e,i){this.mb=e,this.id=i,this.init()},o.DellUIModule.prototype={embedCode:"",init:function(){this.mb.subscribe(t.EVENTS.PLAYER_CREATED,"omnitureUI",n.bind(this.onPlayerCreate,this)),this.mb.subscribe(t.EVENTS.CONTENT_TREE_FETCHED,"omnitureUI",n.bind(this.onContentTreeFetched,this)),this.mb.subscribe(t.EVENTS.PLAYHEAD_TIME_CHANGED,"omnitureUI",n.bind(this.onPlayheadChanged,this)),this.mb.subscribe(t.EVENTS.INITIAL_PLAY,"omnitureUI",n.bind(this.onPlayed,this)),this.mb.subscribe("endScreenShown","omnitureUI",n.bind(this.onEndScreenShown,this))},onPlayerCreate:function(){var e=k.find("video");0===e.length&&(this.mb.unsubscribe(t.EVENTS.INITIAL_PLAY,"omnitureUI"),this.mb.unsubscribe(t.EVENTS.PLAYHEAD_TIME_CHANGED,"omnitureUI"))},onPlayed:function(){w(this.embedCode)},onPlayheadChanged:function(i,t,n){var o=t/n;e===!1&&o>.8&&(e=!0,D(this.embedCode))},onContentTreeFetched:function(e,i){this.embedCode=i.embed_code},onEndScreenShown:function(){i=!0,N(this.embedCode)},__end_marker:!0},o.DellUIModule})}function w(e){console.log(e+" : start"),"undefined"!=typeof s_dell&&(s_dell.linkTrackVars="prop2,prop13,prop49,eVar24",s_dell.linkTrackEvents="event16",s_dell.events=s_dell.apl(s_dell.events,"event16",",",2),s_dell.eVar24=e,s_dell.tl(!0,"o",e))}function D(e){console.log(e+" : 80%"),"undefined"!=typeof s_dell&&(s_dell.linkTrackVars="prop2,prop13,prop49,eVar24",s_dell.linkTrackEvents="event33",s_dell.events=s_dell.apl(s_dell.events,"event33",",",2),s_dell.eVar24=e,s_dell.tl(!0,"o",e))}function N(e){console.log(e+" : complete"),"undefined"!=typeof s_dell&&(s_dell.linkTrackVars="prop2,prop13,prop49,eVar24",s_dell.linkTrackEvents="event34",s_dell.events=s_dell.apl(s_dell.events,"event34",",",2),s_dell.eVar24=e,s_dell.tl(!0,"o",e))}function L(e,i,t,n,o,s,a,l,r){var d=void 0!==e?e:"",c=void 0!==i?i:"",h=void 0!==n?n:0,u=void 0!==o?o:-1,p=void 0!==t?t:"_self",b=void 0!==s?s:0,C=void 0!==a?a:0,g=void 0!==l?l:"primary",f=!1,v=[];OO=window[H[0]],OO.plugin("DellUIModule",function(e,i,t){var n={};return n.DellUIModule=function(e,i){this.mb=e,this.id=i,this.init()},n.DellUIModule.prototype={init:function(){this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"ctaUI",i.bind(this.onPlayerCreate,this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"ctaUI",i.bind(this.onContentTreeFetched,this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"ctaUI",i.bind(this.onPlayheadChanged,this)),this.mb.subscribe("endScreenShown","ctaUI",i.bind(this.onEndScreenShown,this)),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"ctaUI",i.bind(this.onEmbedCodeChanged,this)),this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"ctaUI",i.bind(this.onMetadataFetched,this)),this.mb.subscribe("ctaButtonClick","ctaUI",i.bind(this.onCTAbuttonClick,this,this.mb))},onPlayerCreate:function(e,i){x=this,k=t("#"+i),console.log("create")},onPlayheadChanged:function(e,i){if(O){var n=t(O).css("visibility");i>=h&&u>i?"visible"!==n&&t(O).css("visibility","visible"):"visible"===n&&t(O).css("visibility","hidden")}},onContentTreeFetched:function(e,i){console.log("content tree");var t=i.duration/1e3;-1===u&&(u=Math.ceil(t))},onMetadataFetched:function(){var e=!1,i=!1;f=!1,v=[];var n=arguments[1].base;if(void 0!==n&&""!==n){for(var o in n){var s="cta_",a=o.search(s);if(a>-1){var l=o.substring(s.length,o.length),r={key:l,value:n[o]};v.push(r)}}if(v.length>0){for(var _=0;_<v.length;_++){var E=v[_].key,m=E.split("-"),T=(m[0],m[1],m[2]),I="";if(void 0===T?(I=F.language+"-"+F.country,i=!1):(I=F.language+"-"+F.country+"-"+F.segment,i=!0),I===E){var y=v[_].value.split(",");(!e||e&&i)&&(void 0!==y[0]&&(d=y[0]),void 0!==y[1]&&(c=y[1]),void 0!==y[2]&&(h=y[2]),void 0!==y[3]&&(u=y[3]),void 0!==y[4]&&(p=y[4]),void 0!==y[5]&&(b=y[5]),void 0!==y[6]&&(C=y[6]),void 0!==y[7]&&(g=y[7]),e=!0),console.log(y)}}if(e){var U=k.find(".oo_end_screen");U.after('<div class="oo_cta_container"></div>'),O=k.find(".oo_cta_container");var w='<div class="oo_cta_button primary"><a href="#">'+d+"</a></div>";t(O).append(w);var D=t(O).find(".oo_cta_button");t(D).bind("click","",function(){x.mb.publish("ctaButtonClick","ctaUI")}),j=O.width(),Z=O.height()}}console.log("end")}},onEndScreenShown:function(){var e=(t(O).width(),t(O).height(),t(V).width()),i=t(V).height(),n=((k.width()-e)/2,(k.height()-i)/2,1e3);t(O).delay(n).css("visibility","visible")},onEmbedCodeChanged:function(){f=!1,void 0!==O&&O.remove()},onCTAbuttonClick:function(){""!==c&&"undefined"!==c&&(top.location.href=c)},__end_marker:!0},n.DellUIModule})}var P,M,k,S,A,R,O,V,H={},F={},x={},z=!0,Y=[],G=[],B=[],j=0,Z=0;this.setLWP=i,this.init=e,this.loadSocialModule=t,this.loadTitleModule=n,this.loadCCModule=o,this.loadCCModuleJSON=s,this.loadOmnitureModule=U,this.loadCTAModule=L}function parseRuntime(e){var i=parseInt(e),t=Math.floor(i/3600),n=Math.floor((i-3600*t)/60),o=i-3600*t-60*n;10>t&&(t="0"+t),10>n&&(n="0"+n),10>o&&(o="0"+o);var s=t+":"+n+":"+o;return s}function getTime(e){var e=e.split(":"),i=parseInt(e[0],10),t=parseInt(e[1],10),n=parseInt(e[2],10);return 3600*i+60*t+n}